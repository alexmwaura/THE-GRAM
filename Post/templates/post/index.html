{% extends "post/base.html" %}


{% block content %}




<div class="jumbotron jumbotron-fluid" style="background-color: rgb(243, 241, 236);">


    {% for post in post %}

    <article class="media content-section" style="background-color: rgb(243, 241, 236);" >
        <img src="{{post.account_user.profile.image.url}}" class="rounded-circle article-img" alt="">
        <div class="media-body">
            <div class="article-metadata">
                {% if current_user == post.user %}
                <h2 class="mr-2" style="font-size: large;"><a href="{% url 'post-detail' post.id %}">{{ post.account_user }}</a></h2>
                <small class="text-muted">{{ post.date_posted|date:"F d, Y" }}</small>
                {% endif %}
            </div>


            <!-- make this a dropdown or something -->









        </div>
    </article>
    <div class="card-row">
        <div class="card">
            <img src="{{post.cover.url}}" class="card-img">
            <p class="article-content" style="margin-left: 2%;">{{ post.title }}</p>


            <div class="card-footer" style="background-color: rgb(243, 241, 236);">



                <a href="{% url 'like' post.pk %}" class="btn aqua-gradient btn-rounded btn-sm my-0 " > <i class="fa fa-heart fa-2x text-
                    liked" ></i><b>{{ post.like }}</b></a>
                    
                <a href="{% url 'dislike' post.pk %}" class="btn btn-deep-orange btn-rounded btn-sm my-0 "  ><i class="fa fa-thumbs-down" aria-hidden="true"></i><b>{{ post.dislike }}</b></a>
                 <a
                        href="{% url 'post-comment' post.id %}"><i class="fas fa-comments pr-1"></i></a>
                        
                        
              


                {% for comment in post.comment_set.all %}





                <div class="" >
                    <small>{{comment.user}}</small>
                    <div  style="background-color:rgb(243, 241, 236);">{{ comment.created_date }}</div>

                

                    <article class="media content-section" style="background-color: rgb(243, 241, 236);">
                        <div class="media-body">
                            <div class="article-metadata">
                       
                            </div>
                
                            {{ comment.text|linebreaks }}
                            <!-- make this a dropdown or something -->
                
                
                
                
                   
                
                
                
                
                        </div>
                    </article>
                </div>

                {% empty %}


                <p>No comments here yet :(</p>

                {% endfor %}





            </div>




        </div>

    </div> <br>


    {% endfor %}





</div>








{% endblock %}